<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container-fluid heading-container">
        <h3 class="page-title">AdroFX Cash Back Program</h3>
        <p class="page-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
            laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit
            esse cillum dolor</p>
        <hr>
    </div>

    <div class="content">

        <div class="row total-statistics">
            <div class="col-lg-6 col-md-6 p-6">
                <div class="cashback-item statistics">
                    <div class="statistics-feedback">
                        <h4 class="cashback-item__title">Statistics</h4>

                        <div class="chart-container">
                            <canvas id="statistics-chart" width="174" height="174" aria-label="chart"
                                role="img"></canvas>
                        </div>


                        <div class="statistics-feedback-note">
                            You can check in real time which instrument give you more profit
                        </div>
                    </div>


                    <div class="statistics-filter">
                        <div class="statistics-filter__header">

                            <h4 class="statistics-filter__title">Instruments</h4>
                            <button class="btn btn-filter" type="button">
                                <svg width="15" height="11">
                                    <use href="./icons/sprite.svg#icon-filter"></use>
                                </svg>
                                Filter
                            </button>


                        </div>

                        <div class="filter-group">
                            <span class="filter-icon">
                                <svg width="19" height="19">
                                    <use href="./icons/sprite.svg#icon-search"></use>
                                </svg>
                            </span>
                            <input type="text" class="filter-control">
                        </div>



                        <div class="statistics-filter-wrapper">

                            <ul class="statistics-filter__list">
                                <li class="statistics-filter__list-item">
                                    <div class="statistics-filter__item-header">
                                        <p class="statistics-filter__item-text">gold</p>
                                        <p class="statistics-filter__item-value">23%</p>
                                    </div>

                                    <div class="progress">
                                        <div id="metals" class="progress-bar" role="progressbar" aria-valuemin="0"
                                            aria-valuemax="100">

                                        </div>
                                    </div>
                                </li>

                                <li class="statistics-filter__list-item">
                                    <div class="statistics-filter__item-header">
                                        <p class="statistics-filter__item-text">EUR USD</p>
                                        <p class="statistics-filter__item-value">15%</p>
                                    </div>

                                    <div class="progress">
                                        <div id="forex" class="progress-bar" role="progressbar" aria-valuemin="0"
                                            aria-valuemax="100">
                                            <span class="sr-only">60% Complete</span>
                                        </div>
                                    </div>

                                </li>

                                <li class="statistics-filter__list-item">
                                    <div class="statistics-filter__item-header">
                                        <p class="statistics-filter__item-text">Salona</p>
                                        <p class="statistics-filter__item-value">45%</p>
                                    </div>

                                    <div class="progress">
                                        <div id="crypto" class="progress-bar" role="progressbar" aria-valuemin="0"
                                            aria-valuemax="100">
                                            <span class="sr-only">60% Complete</span>
                                        </div>
                                    </div>

                                </li>

                                <li class="statistics-filter__list-item">
                                    <div class="statistics-filter__item-header">
                                        <p class="statistics-filter__item-text">Twitter</p>
                                        <p class="statistics-filter__item-value">15%</p>
                                    </div>
                                    <div class="progress">
                                        <div id="shares" class="progress-bar" role="progressbar" aria-valuemin="0"
                                            aria-valuemax="100">
                                            <span class="sr-only">60% Complete</span>
                                        </div>
                                    </div>

                                </li>

                                <li class="statistics-filter__list-item">
                                    <div class="statistics-filter__item-header">
                                        <p class="statistics-filter__item-text">bitcoin</p>
                                        <p class="statistics-filter__item-value">15%</p>
                                    </div>
                                    <div class="progress">
                                        <div id="crypto" class="progress-bar" role="progressbar" aria-valuemin="0"
                                            aria-valuemax="100">
                                            <span class="sr-only">60% Complete</span>
                                        </div>
                                    </div>

                                </li>




                        </div>

                    </div>

                </div>
            </div>

            <div class="col-lg-6 col-md-6 p-6">
                <div class="cashback-item totals">
                    <h4 class="cashback-item__title">Totals</h4>

                    <ul class="totals__list">
                        <li class="totals__list-item">
                            <div class="totals__item-icon-container">
                                <svg width="11" height="23">
                                    <use href="./icons/sprite.svg#icon-add"></use>
                                </svg>
                            </div>
                            <div class="totals__item-body">
                                <p class="totals__item-body-text">Total cash back</p>
                                <p class="totals__item-body-value">$365</p>
                            </div>
                        </li>
                        <li class="totals__list-item">
                            <div class="totals__item-icon-container">
                                <svg width="22" height="22">
                                    <use href="./icons/sprite.svg#icon-calendar"></use>
                                </svg>
                            </div>
                            <div class="totals__item-body">
                                <p class="totals__item-body-text">This month cash back</p>
                                <p class="totals__item-body-value">$111</p>
                            </div>
                        </li>
                        <li class="totals__list-item">
                            <div class="totals__item-icon-container">
                                <svg width="22" height="22">
                                    <use href="./icons/sprite.svg#icon-card"></use>
                                </svg>
                            </div>
                            <div class="totals__item-body">
                                <p class="totals__item-body-text">Available payout</p>
                                <p class="totals__item-body-value">$111</p>
                            </div>

                        </li>
                    </ul>

                    <button class="btn btn-lg btn-blue-white" type="button">add to your account</button>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 p-6">
                <div class="cashback-item report">
                    <div class="report-header">
                        <h4 class="cashback-item__title">Cash Back Report</h4>

                        <div class="dropdown">
                            <button class="btn btn-filter" type="button" id="dropdownMenu2" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <svg width="15" height="11">
                                    <use href="./icons/sprite.svg#icon-filter"></use>
                                </svg>
                                Filter
                            </button>

                            <ul class="dropdown-menu dropdown-xs  dropdown-menu-right" aria-labelledby="dropdownMenu2">
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray"
                                        type="button">Order</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray" type="button">Open
                                        time</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray"
                                        type="button">Symbol</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray"
                                        type="button">Order</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray" type="button">Open
                                        Price</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray" type="button">Close
                                        Price</button></li>
                                <li class="dropdown-menu__item"><button class="btn btn-white-gray" type="button">Rebate
                                        Commissions</button></li>
                            </ul>
                        </div>
                    </div>

                    <div class="report-table-wrapper">

                        <table class="report-table sortable">
                            <thead data-header="true" class="report-table__header">
                                <tr>
                                    <th data-sort-column="true">Order</th>
                                    <th data-sort-column="true">Open time</th>
                                    <th data-sort-column="true">Type</th>
                                    <th data-sort-column="true">Symbol</th>
                                    <th data-sort-column="true">Open Price</th>
                                    <th data-sort-column="true">Close Price</th>
                                    <th data-sort-column="true">Rebate Commissions</th>
                                </tr>

                            </thead>

                            <tbody data-body="true" class="report-table__body">
                                <tr>
                                    <td data-sort-value="#39057">#39057</td>
                                    <td>12:43</td>
                                    <td>Cross</td>
                                    <td>USDT</td>
                                    <td>16.50</td>
                                    <td>457.03</td>
                                    <td>$68.5</td>
                                </tr>
                                <tr>
                                    <td data-sort-value="#39058">#39058</td>
                                    <td>14:43</td>
                                    <td>Cross</td>
                                    <td>USDT</td>
                                    <td>16.50</td>
                                    <td>67.03</td>
                                    <td>$54.5</td>
                                </tr>
                                <tr>
                                    <td data-sort-value="#39059">#39059</td>
                                    <td>15:43</td>
                                    <td>Cross</td>
                                    <td>USDT</td>
                                    <td>32.50</td>
                                    <td>21.03</td>
                                    <td>$24.5</td>
                                </tr>
                                <tr>
                                    <td data-sort-value="#390510">#390510</td>
                                    <td>89:43</td>
                                    <td>Cross</td>
                                    <td>USDT</td>
                                    <td>56.50</td>
                                    <td>56.03</td>
                                    <td>$120.5</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>



    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>

    <script src="/js/jquery.sortable.js"></script>
    <!-- <script src="/js/sort.js"></script> -->
    <script src="js/cashback.js"></script>

    <script>
        (async function () {

            //entries data // 
            const entriesData = [
                {
                    id: 1,
                    label: "bitcoin",
                    category: "crypto",
                    data: 30,
                },
                {
                    id: 2,
                    label: "s&p500",
                    category: "indices",
                    data: 30,
                }, {
                    id: 3,
                    label: "eur usd",
                    category: "forex",
                    data: 20,
                },
                {
                    id: 4,
                    label: "tesla",
                    category: "shares",
                    data: 50,
                },
                {
                    id: 5,
                    label: "gold",
                    category: "metals",
                    data: 120
                }
            ]

            //Changed color of progress bar//
            document.querySelectorAll('.progress-bar').forEach((el, i) => {
                //Render color dependent from percentages

                // const data = entriesData.map(item => item.data)
                // el.style.width = `${Number(data[i])}%`

                // if (Number(data[i]) >= 70) el.style.backgroundColor = "#811EFF"
                // if (Number(data[i]) >= 40 && Number(data[i]) < 70) el.style.backgroundColor = "#42A5F5"
                // if (Number(data[i]) < 30) el.style.backgroundColor = "#FFA51E"


                //render dependent from id
                const category = entriesData.map(data => data.category)
                const percentages = entriesData.map(data => data.data)
                el.style.width = `${Number(percentages[i])}%`


                if (category.includes('crypto') && el.id === "crypto") {
                    el.style.backgroundColor = "#F44336"
                }

                if (category.includes('indices') && el.id === "indices") {
                    el.style.backgroundColor = "#811EFF"
                }

                if (category.includes('forex') && el.id === "forex") {
                    el.style.backgroundColor = "#FFA51E"
                }

                if (category.includes('shares') && el.id === "shares") {
                    el.style.backgroundColor = "#42A5F5"
                }

                if (category.includes('metals') && el.id === "metals") {
                    el.style.backgroundColor = "#4CD7AB"
                }

            })


            var ctx = document.getElementById('statistics-chart').getContext('2d');
            var chart = new Chart(ctx, {
                type: 'doughnut',
                // The data for our dataset
                data: {
                    labels: entriesData.map(label => label.category),
                    datasets: [{
                        label: 'most effective instruments',
                        backgroundColor: function () {
                            const data = entriesData.map(item => item.category)
                            const backgroundColor = []

                            if (data.includes('crypto')) {
                                backgroundColor.push("#F44336")
                            }

                            if (data.includes('indices')) {
                                backgroundColor.push("#811EFF")
                            }

                            if (data.includes('forex')) {
                                backgroundColor.push("#FFA51E")
                            }

                            if (data.includes('shares')) {
                                backgroundColor.push("#42A5F5")
                            }

                            if (data.includes('metals')) {
                                backgroundColor.push("#4CD7AB")
                            }



                            return backgroundColor

                        },
                        data: entriesData.map(data => data.data),
                    }]
                },

                // Configuration options go here
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    legend: {
                        display: false
                    },
                }
            });
        })()


        $(function () {
            $('.sortable').sortable();
        });


    </script>
</body>

</html>